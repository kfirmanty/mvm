<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Barlow:wght@100;200;300;400;500;600;700&display=swap" />
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.12.0/css/tachyons.min.css" />
    <link rel="stylesheet" href="./cyberpunk.css" />
</head>

<body>
    <div>
        <textarea id="code" name="code" class="cyberpunk" aria-describedby="code-desc" rows="8">{0.4}</textarea>
        <button class="cyberpunk2077 red" onclick="sendCode()">execute!</button>
    </div>
    <script>
        const ws = new WebSocket("ws://localhost:8080");
        ws.onmessage = event => {
            console.log("MSG", event);
        };

        ws.onopen = () => {
            console.log("REMOTE CONTROL WEBSOCKET OPEN");
        };

        const sendCode = _ => {
            ws.send(JSON.stringify({ code: document.getElementById("code").value }));
        };
    </script>
</body>

</html>